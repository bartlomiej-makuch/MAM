---
date: "2017-10-31T22:42:51-05:00"
description: Has anything changed during last few months?
draft: false
image: pic03.jpg
keywords: ""
slug: project2
title: Trump approval pollist 
---

<script src="/rmarkdown-libs/kePrint/kePrint.js"></script>
<link href="/rmarkdown-libs/lightable/lightable.css" rel="stylesheet" />


<div id="trumps-approval-margins" class="section level1">
<h1>Trump’s Approval Margins</h1>
<pre class="r"><code>#fivethirtyeight.com has detailed data on [all polls that track the president&#39;s approval](https://projects.fivethirtyeight.com/trump-approval-ratings)

# Import approval polls data
approval_polllist &lt;- read_csv(here::here(&#39;data&#39;, &#39;approval_polllist.csv&#39;))

#we glimpse the approval poll data

  glimpse(approval_polllist) </code></pre>
<pre><code>## Rows: 14,533
## Columns: 22
## $ president           &lt;chr&gt; &quot;Donald Trump&quot;, &quot;Donald Trump&quot;, &quot;Donald Trump&quot;, &quot;…
## $ subgroup            &lt;chr&gt; &quot;All polls&quot;, &quot;All polls&quot;, &quot;All polls&quot;, &quot;All polls…
## $ modeldate           &lt;chr&gt; &quot;8/29/2020&quot;, &quot;8/29/2020&quot;, &quot;8/29/2020&quot;, &quot;8/29/2020…
## $ startdate           &lt;chr&gt; &quot;1/20/2017&quot;, &quot;1/20/2017&quot;, &quot;1/20/2017&quot;, &quot;1/21/2017…
## $ enddate             &lt;chr&gt; &quot;1/22/2017&quot;, &quot;1/22/2017&quot;, &quot;1/24/2017&quot;, &quot;1/23/2017…
## $ pollster            &lt;chr&gt; &quot;Gallup&quot;, &quot;Morning Consult&quot;, &quot;Ipsos&quot;, &quot;Gallup&quot;, &quot;…
## $ grade               &lt;chr&gt; &quot;B&quot;, &quot;B/C&quot;, &quot;B-&quot;, &quot;B&quot;, &quot;B&quot;, &quot;C+&quot;, &quot;B-&quot;, &quot;B+&quot;, &quot;B&quot;…
## $ samplesize          &lt;dbl&gt; 1500, 1992, 1632, 1500, 1500, 1500, 1651, 1190, 2…
## $ population          &lt;chr&gt; &quot;a&quot;, &quot;rv&quot;, &quot;a&quot;, &quot;a&quot;, &quot;a&quot;, &quot;lv&quot;, &quot;a&quot;, &quot;rv&quot;, &quot;a&quot;, &quot;…
## $ weight              &lt;dbl&gt; 0.262, 0.680, 0.153, 0.243, 0.227, 0.200, 0.142, …
## $ influence           &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…
## $ approve             &lt;dbl&gt; 45.0, 46.0, 42.1, 45.0, 46.0, 57.0, 42.3, 36.0, 4…
## $ disapprove          &lt;dbl&gt; 45.0, 37.0, 45.2, 46.0, 45.0, 43.0, 45.8, 44.0, 3…
## $ adjusted_approve    &lt;dbl&gt; 45.8, 45.3, 43.2, 45.8, 46.8, 51.6, 43.4, 37.7, 4…
## $ adjusted_disapprove &lt;dbl&gt; 43.6, 37.8, 43.9, 44.6, 43.6, 44.4, 44.5, 42.8, 3…
## $ multiversions       &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
## $ tracking            &lt;lgl&gt; TRUE, NA, TRUE, TRUE, TRUE, TRUE, TRUE, NA, NA, T…
## $ url                 &lt;chr&gt; &quot;http://www.gallup.com/poll/201617/gallup-daily-t…
## $ poll_id             &lt;dbl&gt; 49253, 49249, 49426, 49262, 49236, 49266, 49425, …
## $ question_id         &lt;dbl&gt; 77265, 77261, 77599, 77274, 77248, 77278, 77598, …
## $ createddate         &lt;chr&gt; &quot;1/23/2017&quot;, &quot;1/23/2017&quot;, &quot;3/1/2017&quot;, &quot;1/24/2017&quot;…
## $ timestamp           &lt;chr&gt; &quot;13:38:37 29 Aug 2020&quot;, &quot;13:38:37 29 Aug 2020&quot;, &quot;…</code></pre>
<pre class="r"><code># we use `lubridate` to fix dates, as they are given as characters
 
  approval_polllist$modeldate &lt;- mdy(approval_polllist$modeldate)
  approval_polllist$startdate &lt;- mdy(approval_polllist$startdate)
  approval_polllist$enddate &lt;- mdy(approval_polllist$enddate)
  approval_polllist$createddate &lt;- mdy(approval_polllist$createddate)</code></pre>
<div id="create-a-plot" class="section level2">
<h2>Create a plot</h2>
<p>We Calculate the average net approval rate (approve-disapprove) for each week since Trump got into office. We plot the net approval, along with its 95% confidence interval.</p>
<pre class="r"><code>#we create a week identifier for each week and group by the week identifier and year the week falls under, before taking a mean of the net approval ratings within each week

net_approvals &lt;- approval_polllist %&gt;% 

  filter(subgroup==&quot;Voters&quot;) %&gt;% 
  
  mutate(net_approval=approve-disapprove) %&gt;% 
  
  mutate(week_number=isoweek(enddate)) %&gt;% 
  
  mutate(year=year(enddate)) %&gt;% 
  
  group_by(year, week_number) %&gt;% 
  
  summarise(week_net_approval=mean(net_approval,na.rm=TRUE),sd_approval=sd(net_approval,na.rm=TRUE),count=n(),t_critical=qt(0.975,count-1),se_approval=sd_approval/sqrt(count),margin_of_error=t_critical*se_approval,approval_low=week_net_approval-margin_of_error,approval_high=week_net_approval+margin_of_error)</code></pre>
<pre class="r"><code>ggplot(net_approvals, aes(x=week_number,y=week_net_approval)) + geom_point(aes(colour=as.factor(year)), size=0.6) + geom_line(aes(colour=as.factor(year))) + facet_wrap(~year) + theme(legend.position=&quot;none&quot;) + labs(x=&quot;Week of the year&quot;,y=&quot;Average Net Approval (%)&quot;,title=&quot;Estimating Net Approval (approve-disapprove) for Donald Trump&quot;,subtitle=&quot;Weekly average of all polls&quot;) + geom_hline(yintercept=0, colour=&quot;orange&quot;) + scale_y_continuous(limits=c(-22.5,7.5), breaks=seq(-20,7.5,2.5)) + scale_x_continuous(breaks=c(0,13,26,39,52)) + geom_ribbon(aes(ymin=net_approvals$approval_low, ymax=net_approvals$approval_high, colour=as.factor(year), fill=as.factor(year)),alpha=0.1)</code></pre>
<p><img src="/projects/project2_files/figure-html/plotting_weekly_average_net_approval,%20-1.png" width="768" style="display: block; margin: auto;" /></p>
</div>
<div id="compare-confidence-intervals" class="section level2">
<h2>Compare Confidence Intervals</h2>
<p>We compare the confidence intervals for <code>week 15</code> (6-12 April 2020) and <code>week 34</code> (17-23 August 2020).</p>
<pre class="r"><code>CI_comparison &lt;- net_approvals %&gt;% 
  filter(year==2020,week_number %in% c(15,34))
         
CI_comparison %&gt;% 
  select(c(1,2,9,10)) %&gt;% 
kbl(col.names=c(&quot;Week Number&quot;,&quot;Year&quot;,&quot;Net Approval: Lower Limit (%)&quot;,&quot;Net Approval: Upper Limit (%)&quot;)) %&gt;%
kable_styling()</code></pre>
<table class="table" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:right;">
Week Number
</th>
<th style="text-align:right;">
Year
</th>
<th style="text-align:right;">
Net Approval: Lower Limit (%)
</th>
<th style="text-align:right;">
Net Approval: Upper Limit (%)
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
2020
</td>
<td style="text-align:right;">
15
</td>
<td style="text-align:right;">
-9.03
</td>
<td style="text-align:right;">
-6.45
</td>
</tr>
<tr>
<td style="text-align:right;">
2020
</td>
<td style="text-align:right;">
34
</td>
<td style="text-align:right;">
-13.30
</td>
<td style="text-align:right;">
-6.79
</td>
</tr>
</tbody>
</table>
<p>Across both confidence intervals, Trump’s net approval rating is negative, but in Week 15, the lower bound is greater than even the upper bound in Week 34. The 95% confidence interval is also considerably wider in Week 34 than in Week 15 (1.48 in Week 15, versus 3.78 in Week 34). This implies both that the amount of variation in Trump’s net approval ratings generated by polls in Week 34 is considerably greater than that generated by those earlier in the year and that his mean net approval has unambigiously fallen. The observed decline in net approval is to be expected, since Trump’s handling of the COVID-19 pandemic has been sloppy and the US has one of the most severe outbreaks of the virus, given poorly enforced and coordinated federal measures and weak norm compliance.</p>
<p>The increase in the size of the confidence interval suggests both that poll sample sizes may have fallen (increasing variability) and that the events of the summer have increased <em>uncertainty</em> over Trump’s popularity, reflected by greater variation in popularity ratings between polls than earlier in the year, when polls were more consistent with one another. This increased variation between polls may be caused by differences between samples used by polls, such as between certain states or counties. This is an especially likely cause since the COVID-19 pandemic has had heterogeneous effects across the country and Trump’s approval rating is likely to depend on the perceived success of measures in voters’ home states. Consequently, cross-country approval polls in Week 15 are likely to be far more consistent with one another than those taken in Week 34, resulting in wider 95% confidence intervals in the latter period.</p>
</div>
</div>
